---
title: "Final Project: Multi-Path AIC Model Selection"
author: "Nimra Ismail"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(FinalProjectNimra)
library(ggplot2)
```

# 1. Introduction
This report demonstrates the functionality of the **FinalProjectNimra** R package, which implements multi-path model selection using AIC with resampling-based stability and plausible model filtering. The package supports both **linear (Gaussian)** and **logistic (Binomial)** regression models.

---

# 2. Synthetic Gaussian Example
```{r synthetic-gaussian}
set.seed(1)
n <- 120; p <- 8
X <- matrix(rnorm(n * p), n, p)
beta <- c(2, -1.5, 0, 0, 1, rep(0, p - 5))
y <- X %*% beta + rnorm(n, sd = 1)
colnames(X) <- paste0("x", 1:p)
df <- as.data.frame(cbind(y, X))

res_sim <- multi_path_AIC_procedure(df, response = "y", K = 4, B = 10, delta = 1, tau = 0.6)
res_sim$plausible_models
plot_stability(res_sim$stability)
```

---

# 3. Linear Regression Example (mtcars)
```{r linear-example}
set.seed(123)
final_linear <- multi_path_AIC_procedure(mtcars, response = "mpg", K = 4, B = 20, delta = 1, tau = 0.6)
final_linear$plausible_models
plot_stability(final_linear$stability)
```

---

# 4. Synthetic Logistic Example (Binomial)
```{r synthetic-logistic}
set.seed(2)
n <- 200; p <- 6
Xb <- matrix(rnorm(n * p), n, p)
linpred <- 1.2 * Xb[, 1] - 1 * Xb[, 2] + 0.8 * Xb[, 5]
prob <- 1 / (1 + exp(-linpred))
ybin <- rbinom(n, 1, prob)
colnames(Xb) <- paste0("x", 1:p)
dfb <- as.data.frame(cbind(y = ybin, Xb))

res_logit_sim <- multi_path_AIC_procedure(dfb, response = "y", K = 4, B = 10, delta = 1, tau = 0.6)
res_logit_sim$plausible_models
plot_stability(res_logit_sim$stability)
```

---

# 5. Logistic Regression Example (mtcars)
```{r logistic-example}
set.seed(123)
final_logistic <- multi_path_AIC_procedure(mtcars, response = "am", K = 4, B = 20, delta = 1, tau = 0.6)
final_logistic$plausible_models
plot_stability(final_logistic$stability)
```

---

# 6. Example Usage (Package Demonstration)
This section mirrors **Section 5.3** of the rubric using direct calls to each core function.

```{r example-usage}
# Example Usage
# If hosted on GitHub, you can install using:
# remotes::install_github("NimraIsmail/FinalProjectNimra")

library(FinalProjectNimra)

# Synthetic Gaussian example\ nset.seed(1)
n <- 120; p <- 8
X <- matrix(rnorm(n * p), n, p)
beta <- c(2, -1.5, 0, 0, 1, rep(0, p - 5))
y <- X %*% beta + rnorm(n, sd = 1)
colnames(X) <- paste0("x", 1:p)
df <- as.data.frame(cbind(y, X))

forest <- multi_path_forward(df, response = "y", K = 4, delta = 1)
stab <- stability_resampling(df, response = "y", B = 10, K = 4, delta = 1)
plaus <- select_plausible_models(forest, stab, delta_AIC = 2, tau = 0.6)
print(plaus)
```

---


The **FinalProjectNimra** package successfully automates multi-path model exploration, resampling-based stability evaluation, and plausible model filtering using AIC-based criteria.
