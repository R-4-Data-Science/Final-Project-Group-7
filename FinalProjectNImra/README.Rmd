# FinalProjectNimra

### Multi-Path AIC Model Selection with Stability and Plausibility Filtering

This R package implements a **multi-path model selection algorithm** based on the Akaike Information Criterion (AIC). It automatically explores multiple near-optimal model paths, evaluates **variable stability** through resampling, and identifies **plausible, stable models** for both linear and logistic regression tasks.

---

## Installation

You can install the package directly from GitHub using:

```{r}
# Install devtools if not already available
install.packages("remotes")

# Install the package
remotes::install_github("R-4-Data-Science/Final-Project-Group-7/FinalProjectNImra")

#Then load it with:
library(FinalProjectNImra)

```

## Example 1 – Linear Regression

Below is a minimal example demonstrating the end-to-end workflow on the built-in mtcars dataset.

```{r}
set.seed(123)

# Simulate Gaussian data
n <- 120; p <- 8
X <- matrix(rnorm(n * p), n, p)
beta <- c(2, -1.5, 0, 0, 1, rep(0, p - 5))
y <- X %*% beta + rnorm(n, sd = 1)
df <- as.data.frame(cbind(y, X))
colnames(df) <- c("y", paste0("x", 1:p))

# Run the full procedure

# multi-path forward selection
path_forest <- build_paths(
  X = df, 
  response = "y", 
  K = 5,
  epsilon = .000001, 
  delta = 2, 
  L = 25, 
  model_type = NULL
  )

# stability with resampling
stability_scores <- stability(
  X = df, 
  response = "y", 
  B = 100, 
  K = 5, 
  epsilon = 1e-6, 
  delta = 2, 
  L = 25, 
  model_type = NULL
  )

# select plausible models
plausible <- plausible_models(
  full_data_models = path_forest$path_forest$frontiers, 
  stability_df = stability_scores,
  delta = 2,
  tau = 0.6
  )

plausible
```

## Example 2 – Logistic Regression

This example uses the same data but treats am (automatic/manual transmission) as a binary response.

```{r}
# Simulate binary logistic data
n <- 200; p <- 6
Xb <- matrix(rnorm(n * p), n, p)
colnames(Xb) <- paste0("x", 1:p)

# Define the true logistic relationship
linpred <- 1.2 * Xb[,1] - 1 * Xb[,2] + 0.8 * Xb[,5]
prob <- 1 / (1 + exp(-linpred))
ybin <- rbinom(n, 1, prob)

# Combine into a data frame
dfb <- as.data.frame(cbind(y = ybin, Xb))

# Run the full procedure

# multi-path forward selection
path_forest_glm <- build_paths(
  X = dfb, 
  response = "y", 
  K = 5,
  epsilon = .000001, 
  delta = 2, 
  L = 25, 
  model_type = NULL
  )

# stability with resampling
stability_scores_glm <- stability(
  X = dfb, 
  response = "y", 
  B = 100, 
  K = 5, 
  epsilon = 1e-6, 
  delta = 2, 
  L = 25, 
  model_type = NULL
  )

# select plausible models
plausible_glm <- plausible_models(
  full_data_models = path_forest_glm$path_forest$frontiers, 
  stability_df = stability_scores_glm,
  delta = 2,
  tau = 0.6
  )

plausible_glm
```

## Summary

The package demonstrates how multi-path AIC selection and stability analysis together provide
a robust framework for identifying reproducible, interpretable models in both linear and logistic regression.
